(window.webpackJsonpcalendar=window.webpackJsonpcalendar||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n(16)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(7),l=n.n(i),u=(n(13),n(1)),o=n(2),c=n(4),s=n(3),m=n(5),h=(n(14),function(e){var t=e.value,n=e.onChange,a=e.onSubmit,i=e.children;return r.a.createElement("form",{onSubmit:a,className:"email-form"},r.a.createElement("input",{type:"text",value:t,onChange:n}),r.a.createElement("button",{type:"submit"},i))}),d=(n(15),function(){function e(){Object(u.a)(this,e)}return Object(o.a)(e,null,[{key:"toDate",value:function(e){var t=e.getFullYear(),n=e.getMonth()+1,a=e.getDate();return t+"-"+this.leadingZero(n)+"-"+this.leadingZero(a)}},{key:"toTime",value:function(e){var t=e.getHours(),n=e.getMinutes();return this.leadingZero(t)+":"+this.leadingZero(n)}},{key:"leadingZero",value:function(e){var t=e.toString();return 1==t.length?"0"+t:t}},{key:"subtractTime",value:function(e,t){var n=this.timeToMinutes(e),a=this.timeToMinutes(t);return n?a?this.minutesTotime(n-a):e:""}},{key:"timeToMinutes",value:function(e){var t=e.split(":").map(function(e){return parseInt(e,10)});return 60*t[0]+t[1]}},{key:"minutesTotime",value:function(e){var t=Math.floor(e/60),n=e%60;return this.leadingZero(t)+":"+this.leadingZero(n)}}]),e}()),v=function(){function e(t,n){Object(u.a)(this,e),this._date=new Date(t+"T"+n)}return Object(o.a)(e,[{key:"fullDate",get:function(){return this._date}},{key:"date",get:function(){return d.toDate(this._date)},set:function(e){var t=this.time;this._date=new Date(e+"T"+t)}},{key:"time",get:function(){return d.toTime(this._date)},set:function(e){var t=this.date;this._date=new Date(t+"T"+e)}},{key:"label",get:function(){return this._label},set:function(e){this._label=e}},{key:"interval",get:function(){return this._interval},set:function(e){this._interval=e}},{key:"repeat",get:function(){return this._repeat},set:function(e){this._repeat=e}}]),e}(),f=function(e){function t(){return Object(u.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.entries;return r.a.createElement("table",{className:"entry-list-table"},e.map(function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.time),r.a.createElement("td",null,e.label))}))}}]),t}(a.Component),b=function(e){function t(){return Object(u.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"note",set:function(e){this._note=e},get:function(){return this._note}}]),t}(v),g=function(e){function t(){return Object(u.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"reminder",set:function(e){this._reminder=e},get:function(){return this._reminder}}]),t}(v);function y(e){var t=e.value,n=e.onChange,a=e.label;return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:a},a,":"),r.a.createElement("input",{type:"text",value:t,onChange:n}))}function p(e){var t=e.value,n=e.onChange,a=e.label;return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:a},a,":"),r.a.createElement("input",{type:"checkbox",checked:t,onChange:n}))}function E(e){var t=e.value,n=e.onChange,a=e.label,i=e.options;return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:a},a,":"),r.a.createElement("select",{value:t,onChange:n},i.map(function(e){return r.a.createElement("option",{key:e,value:e},e)})))}function C(e){var t=e.value,n=e.onChange,a=e.label;return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:a},a,":"),r.a.createElement("textarea",{value:t,onChange:n}))}var j=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(c.a)(this,Object(s.a)(t).call(this,e))).onSubmit=function(e,t){var a=new g(n.state.date,n.state.time);a.label=n.state.label,a.repeat=n.state.repeat,a.interval=n.state.interval,n.state.addReminder&&(a.reminder=new b(n.state.date,d.subtractTime(n.state.time,"01:00"))),e(a),t.preventDefault()},n.onDateChange=function(e){n.setState({date:e.currentTarget.value})},n.onTimeChange=function(e){n.setState({time:e.currentTarget.value})},n.onLabelChange=function(e){n.setState({label:e.currentTarget.value})},n.onRepeatChange=function(e){n.setState({repeat:e.currentTarget.checked})},n.onIntervalChange=function(e){n.setState({interval:e.currentTarget.value})},n.onAddReminderChange=function(e){n.setState({addReminder:e.currentTarget.checked})},n.state={date:"",time:"",label:"",repeat:!1,interval:"daily",addReminder:!1},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.date,a=t.time,i=t.label,l=t.repeat,u=t.interval,o=t.addReminder,c=this.props.createEntry;return r.a.createElement("form",{onSubmit:function(t){return e.onSubmit(c,t)},className:"email-form"},r.a.createElement(y,{label:"date",value:n,onChange:this.onDateChange}),r.a.createElement(y,{label:"time",value:a,onChange:this.onTimeChange}),r.a.createElement(y,{label:"label",value:i,onChange:this.onLabelChange}),r.a.createElement(p,{label:"repeat",value:l,onChange:this.onRepeatChange}),r.a.createElement(E,{label:"Interval",value:u,onChange:this.onIntervalChange,options:["daily","weekly","monthly","annually"]}),r.a.createElement(p,{label:"Add reminder",value:o,onChange:this.onAddReminderChange}),r.a.createElement("button",{type:"submit"},"Add Event"))}}]),t}(a.Component),k=function(e){function t(e,n){var a;return Object(u.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e,n)))._attendees=[],a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"addAttendee",value:function(e){this._attendees.includes(e)||this._attendees.push(e)}},{key:"removeAttendee",value:function(e){this._attendees=this._attendees.reduce(function(t,n){return n!=e&&t.push(n),t},[])}},{key:"sendInvites",value:function(e){this._attendees.forEach(e)}},{key:"attendees",get:function(){return this._attendees}}]),t}(g),O=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(c.a)(this,Object(s.a)(t).call(this,e))).onSubmit=function(e,t){var a=new k(n.state.date,n.state.time);a.label=n.state.label,a.repeat=n.state.repeat,a.interval=n.state.interval,n.state.addReminder&&(a.reminder=new b(n.state.date,d.subtractTime(n.state.time,"01:00")));var r=!0,i=!1,l=void 0;try{for(var u,o=n.state.attendees.split(",")[Symbol.iterator]();!(r=(u=o.next()).done);r=!0){var c=u.value;a.addAttendee(c.trim())}}catch(s){i=!0,l=s}finally{try{r||null==o.return||o.return()}finally{if(i)throw l}}e(a),t.preventDefault()},n.onDateChange=function(e){n.setState({date:e.currentTarget.value})},n.onTimeChange=function(e){n.setState({time:e.currentTarget.value})},n.onLabelChange=function(e){n.setState({label:e.currentTarget.value})},n.onRepeatChange=function(e){n.setState({repeat:e.currentTarget.checked})},n.onIntervalChange=function(e){n.setState({interval:e.currentTarget.value})},n.onAddReminderChange=function(e){n.setState({addReminder:e.currentTarget.checked})},n.onAttendeesChange=function(e){n.setState({attendees:e.currentTarget.value})},n.state={date:"",time:"",label:"",repeat:!1,interval:"daily",addReminder:!1,attendees:""},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.date,a=t.time,i=t.label,l=t.repeat,u=t.interval,o=t.addReminder,c=t.attendees,s=this.props.createEntry;return r.a.createElement("form",{onSubmit:function(t){return e.onSubmit(s,t)},className:"email-form"},r.a.createElement(y,{label:"date",value:n,onChange:this.onDateChange}),r.a.createElement(y,{label:"time",value:a,onChange:this.onTimeChange}),r.a.createElement(y,{label:"label",value:i,onChange:this.onLabelChange}),r.a.createElement(p,{label:"repeat",value:l,onChange:this.onRepeatChange}),r.a.createElement(E,{label:"Interval",value:u,onChange:this.onIntervalChange,options:["daily","weekly","monthly","annually"]}),r.a.createElement(p,{label:"Add reminder",value:o,onChange:this.onAddReminderChange}),r.a.createElement(C,{label:"Attendees",value:c,onChange:this.onAttendeesChange}),r.a.createElement("button",{type:"submit"},"Add Meeting"))}}]),t}(a.Component),T=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(c.a)(this,Object(s.a)(t).call(this,e))).onSubmit=function(e,t){var a=new b(n.state.date,n.state.time);a.label=n.state.label,a.repeat=n.state.repeat,a.interval=n.state.interval,a.note=n.state.note,e(a),t.preventDefault()},n.onDateChange=function(e){n.setState({date:e.currentTarget.value})},n.onTimeChange=function(e){n.setState({time:e.currentTarget.value})},n.onLabelChange=function(e){n.setState({label:e.currentTarget.value})},n.onRepeatChange=function(e){n.setState({repeat:e.currentTarget.checked})},n.onIntervalChange=function(e){n.setState({interval:e.currentTarget.value})},n.onNoteChange=function(e){n.setState({note:e.currentTarget.value})},n.state={date:"",time:"",label:"",repeat:!1,interval:"daily",note:""},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.date,a=t.time,i=t.label,l=t.repeat,u=t.interval,o=t.note,c=this.props.createEntry;return r.a.createElement("form",{onSubmit:function(t){return e.onSubmit(c,t)},className:"email-form"},r.a.createElement(y,{label:"date",value:n,onChange:this.onDateChange}),r.a.createElement(y,{label:"time",value:a,onChange:this.onTimeChange}),r.a.createElement(y,{label:"label",value:i,onChange:this.onLabelChange}),r.a.createElement(p,{label:"repeat",value:l,onChange:this.onRepeatChange}),r.a.createElement(E,{label:"Interval",value:u,onChange:this.onIntervalChange,options:["daily","weekly","monthly","annually"]}),r.a.createElement(C,{label:"Note",value:o,onChange:this.onNoteChange}),r.a.createElement("button",{type:"submit"},"Add Reminder"))}}]),t}(a.Component),S=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(c.a)(this,Object(s.a)(t).call(this,e))).runAddEntry=function(e,t){n.setState({entryType:""}),t(e)},n.modifyEntryType=function(e){n.setState({entryType:e.currentTarget.value}),e.preventDefault()},n.selectFormComponent=function(e,t){switch(e){case"event":return r.a.createElement(j,{createEntry:function(e){return n.runAddEntry(e,t)}});case"meeting":return r.a.createElement(O,{createEntry:function(e){return n.runAddEntry(e,t)}});case"reminder":return r.a.createElement(T,{createEntry:function(e){return n.runAddEntry(e,t)}});default:return r.a.createElement("div",null)}},n.state={entryType:""},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.addEntry,t=this.state.entryType;return r.a.createElement("div",{className:"entry-form"},r.a.createElement("div",{className:"form-menu"},r.a.createElement("button",{value:"event",onClick:this.modifyEntryType,type:"button"},"Add Event"),r.a.createElement("button",{value:"meeting",onClick:this.modifyEntryType,type:"button"},"Add Meeting"),r.a.createElement("button",{value:"reminder",onClick:this.modifyEntryType,type:"button"},"Add Reminder")),r.a.createElement("div",{className:"form"},this.selectFormComponent(t,e)))}}]),t}(a.Component),_=function(){function e(t){Object(u.a)(this,e),this._date=new Date,this._email=t,this._entries=[]}return Object(o.a)(e,[{key:"updateDate",value:function(){this._date=new Date}},{key:"addEntry",value:function(e){this._entries.push(e)}},{key:"removeEntry",value:function(e){this._entries=this._entries.reduce(function(t,n){return n!=e&&t.push(n),t},[])}},{key:"getTodayEntries",value:function(){var e=this;return this._entries.filter(function(t){return t.date==e.date}).filter(function(t){return t.fullDate>e._date})}},{key:"getThisWeekEntries",value:function(){var e=this,t=new Date(this._date.toString());return t.setDate(t.getDate()+7),this._entries.filter(function(n){return n.fullDate>e._date&&n.fullDate<t})}},{key:"getEntryByLabel",value:function(e){var t=!0,n=!1,a=void 0;try{for(var r,i=this._entries[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var l=r.value;if(l.label==e)return l}}catch(u){n=!0,a=u}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}}},{key:"date",get:function(){return d.toDate(this._date)}},{key:"time",get:function(){return d.toTime(this._date)}},{key:"email",get:function(){return this._email},set:function(e){this._email=e}}]),e}(),w=function(e){function t(){return Object(u.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.calendar;return r.a.createElement("div",{id:"calendar"},r.a.createElement("h2",null,e.date+" "+e.time),r.a.createElement("div",{className:"add-entry"},r.a.createElement(S,{addEntry:function(t){return e.addEntry(t)}})),r.a.createElement("div",{className:"entry-list"},r.a.createElement("h3",null,"Today"),r.a.createElement(f,{entries:e.getTodayEntries()})),r.a.createElement("div",{className:"entry-list"},r.a.createElement("h3",null,"This week"),r.a.createElement(f,{entries:e.getThisWeekEntries()})))}}]),t}(a.Component),D=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(c.a)(this,Object(s.a)(t).call(this,e))).onEmailFormChange=function(e){n.setState({email:e.currentTarget.value})},n.onEmailFormSubmit=function(e){var t=n.state.email;n.setState({calendar:new _(t)}),n.interval=setInterval(function(){var e=n.state.calendar;e.updateDate(),n.setState({calendar:e})},3e4),e.preventDefault()},n.state={email:"",calendar:null},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.state,t=e.email,n=e.calendar;return r.a.createElement("div",{id:"App"},r.a.createElement("h1",null,"Calendar"),n?r.a.createElement(w,{calendar:n}):r.a.createElement(h,{value:t,onChange:this.onEmailFormChange,onSubmit:this.onEmailFormSubmit},"Set email"))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[8,1,2]]]);
//# sourceMappingURL=main.69bc91ae.chunk.js.map